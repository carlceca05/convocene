<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="examen">
        <h4 class="text-center text-primary"> PRÓXIMO EXAMEN </h4>
        <div class="page-header"> </div>
    </div>


    <div id="eug"> aqui
        <div class="texto card-text"> 
        </div>
    </div> 
    
    


    <script src='https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.5.1/tabletop.min.js'></script>
<script type='text/javascript'>    
  var publicSpreadsheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQV-obv6H-LTJ1-SLguqpASRrJx1miHZXSRkjn2Gg9HvSPrhxRe4gQqQLiVGCi4iQoGGyCksvnm5SoP/pubhtml';

  function init() {
    Tabletop.init( { key: publicSpreadsheetUrl,
                     callback: showInfo,
                     simpleSheet: true } )
  }

  function showInfo(data, tabletop) {
    alert('Successfully processed!')
    console.log(data);
  }

  window.addEventListener('DOMContentLoaded', init)
</script>

    <script type='text/javascript'>
    /*  
    function posicionarMenu() { var b = $("header").outerHeight(true); var a = $("nav").outerHeight(true); if ($(window).scrollTop() >= b - a) { $("nav").addClass("navbar-fixed-top"); $("nav").removeClass("trampa") } else { $("nav").addClass("trampa"); $("nav").addClass("navbar-fixed-top") } } $(document).ready(function () { posicionarMenu(); $(window).scroll(function () { posicionarMenu() }) }); $(function () { $("#testmenu a").popover() });
    */

    //spreadsheet TODO: FIXME:
    function init() {
          Papa.parse('https://docs.google.com/spreadsheets/d/e/2PACX-1vQV-obv6H-LTJ1-SLguqpASRrJx1miHZXSRkjn2Gg9HvSPrhxRe4gQqQLiVGCi4iQoGGyCksvnm5SoP/pubhtml', {
          download: true,
          header: true,
          complete: function(results) {
            var data = results.data
            console.log(data)
          }
        })
window.addEventListener('DOMContentLoaded', init)

[ { name: "Carrot", category: "Vegetable", healthiness: "Adequate" }, 
  { name: "Pork Shoulder", category: "Meat", healthiness: "Questionable" }, 
  { name: "Bubblegum", category: "Candy", healthiness: "Super High"} ]


    function showInfo(data, tabletop) {
      $.each(tabletop.sheets("distrito federal").all(), function (i, df) {
        var df_li = $('<p><b>' + df.dias + '</b></p><p><i class="bi-calendar-check"></i> ' + df.fecha + '<br><i class="bi bi-alarm"></i> ' + df.horario + '<br> ' + df.examen + '<br><b style="color:red;">' + df.status + '</b></p>' )
        df_li.prependTo("#eug .texto");
      })
      $.each(tabletop.sheets("oaxaca").all(), function (i, oax) {
        var oax_li = $('<p><b>' + oax.dias + '</b></p><p><i class="icon-calendar"></i> ' + oax.fecha + '<br><i class="icon-time"></i> ' + oax.horario + '<br><i class="icon-file-alt"></i> ' + oax.examen + '<br><b style="color:red;">' + oax.status + '</b></p>')
        oax_li.prependTo("#oax .texto");
      })
      $.each(tabletop.sheets("queretaro").all(), function (i, qro) {
        var qro_li = $('<p><b>' + qro.dias + '</b></p><p><i class="icon-calendar"></i> ' + qro.fecha + '<br><i class="icon-time"></i> ' + qro.horario + '<br><i class="icon-file-alt"></i> ' + qro.examen + '<br><b style="color:red;">' + qro.status + '</b></p>')
        qro_li.prependTo("#qro .texto");
      })
      $.each(tabletop.sheets("viaducto").all(), function (i, vto) {
        var vto_li = $('<p><b>' + vto.dias + '</b></p><p><i class="icon-calendar"></i> ' + vto.fecha + '<br><i class="icon-time"></i> ' + vto.horario + '<br><i class="icon-file-alt"></i> ' + vto.examen + '<br><b style="color:red;">' + vto.status + '</b></p>')
        vto_li.prependTo("#vto .texto");
      })
      $.each(tabletop.sheets("examen").all(), function (i, exa) {
        var exa_li = $( '<h3 class="text-center">' + exa.aplicacion + '</h3><a class="text-center" href="http://registroenlinea.ceneval.edu.mx/RegistroLinea/" target="_new">Registro en línea ' + exa.registro + '</a> <br> ' + "<br> <h6>Resultados &nbsp;" + exa.resultados + "</h6>"  )
        exa_li.appendTo("#examen .page-header");
      })
    }
  </script>
</body>
</html>